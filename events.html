<div class="row">
	<div class="col-md-3">
		<h2>Genre</h2>
		<div data-bind="foreach:genres">
			<div>
				<input type="checkbox" data-bind="attr:{value:$data}, checked: $root.selectedGenres" />
				<span data-bind="text: $data">
			</div>
		</div>
		<h2>Venue</h2>
		<div data-bind="foreach:venues">
			<div>
				<input type="checkbox" data-bind="attr:{value:$data}, checked: $root.selectedVenues" />
				<span data-bind="text: $data">
			</div>
		</div>
	</div>

	<div class="col-md-9" data-bind="foreach:shows">
		<div data-bind="visible:visible">
			<h2 data-bind="text:name"></h2>
			<div><strong>Genre:</strong> <span data-bind="text:genre"></span></div>
			<div><strong>Venue:</strong> <span data-bind="text:venue"></span></div>
			<div data-bind="text: description" style="white-space: pre-line"></div>
			<div><a data-bind="attr:{href:link}">More information</a></div>
			<div>
				<strong>Times:</strong>
				
				<div class="btn btn-default btn-xs" data-bind="visible:tentativeVisible, click:makeTentative">
					<span class="glyphicon glyphicon-star-empty" aria-hidden="true"></span>
					Add tentative
				</div>
				<span data-bind="visible:tentative">
					Tentative
					<div class="btn btn-danger btn-xs" data-bind="click:unmakeTentative">
						Remove
					</div>
				</span>
			</div>
			<ul data-bind="foreach: times">
				<li>
					<span data-bind="text:moment($data).format('MMMM Do [at] h:mma')"></span>
					<div class="btn btn-default btn-xs" data-bind="click:$parent.addToSchedule,visible:!$parent.inSchedule($data)">
						<span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
						Add to schedule
					</div>
					<span data-bind="visible:$parent.inSchedule($data)">
						On schedule
						<div class="btn btn-danger btn-xs" data-bind="click:$parent.removeFromSchedule">
							Remove
						</div>
					</span>
				</li>
			</ul>
			
		</div>
	</div>
</div>
